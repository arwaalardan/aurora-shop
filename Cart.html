 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Your Cart - Aurora</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" href="/CSS/style.css" />
</head>
<body>

<nav class="navbar navbar-expand-lg bg-white border-bottom shadow-sm py-2 sticky-top">
  <div class="container d-flex justify-content-between align-items-center">
    <button class="btn d-lg-none" type="button"><i class="bi bi-list fs-4"></i></button>
    <a class="navbar-brand mx-auto d-flex align-items-center" href="home.html">
      <img src="/images/5787415861416544232_121.jpg" alt="Aurora Logo" style="height: 70px;" />
    </a>
    <div class="d-flex align-items-center gap-3">
      <!-- <a href="#" class="text-dark"><i class="bi bi-search fs-5"></i></a> -->
      <a href="login.html" class="text-dark"><i class="bi bi-person fs-5"></i></a>
      <a href="cart.html" class="text-dark position-relative">
        <i class="bi bi-bag fs-5"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-dark" id="cart-count">0</span>
      </a>
    </div>
  </div>
</nav>

<section class="container my-5">
  <h2 class="mb-4 text-center"> Shopping Cart </h2>
  <div id="cart-items" class="table-responsive">
    <table class="table align-middle">
      <thead class="table-light">
        <tr>
          <th>Product</th>
          <th>Price</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="cart-table-body">
      </tbody>
    </table>
  </div>
  <div class="text-end">
    <h5>total: <span id="total">0 SR</span></h5>
    <button class="btn btn-dark mt-2">Pay now</button>
  </div>
</section>

<script>
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const tableBody = document.getElementById("cart-table-body");
  const totalElement = document.getElementById("total");
  const countElement = document.getElementById("cart-count");

  let total = 0;

  cart.forEach((item, index) => {
    const itemTotal = item.price * (item.quantity || 1); 
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${item.name} <br><small class="text-muted">Quantity: ${item.quantity || 1}</small></td>
      <td>${itemTotal.toFixed(2)} SR</td>
      <td><button class="btn btn-sm btn-outline-danger" onclick="removeItem(${index})">Delete</button></td>
    `;
    tableBody.appendChild(row);
    total += itemTotal;
  });

  totalElement.textContent = `${total.toFixed(2)} SR`;
  countElement.textContent = cart.length;

  function removeItem(index) {
    cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    location.reload(); 
  }
</script>
>
</body>
</html>
